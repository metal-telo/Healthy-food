<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Просто поесть</title>
    <link rel="icon" href="img/icon.svg" type="image/x-icon" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <header>
      <div><img src="img/logo.svg" /></div>
      <div class="flex">
        <div><a href="">Подбор рациона</a></div>
        <div><a href="">Программы питания</a></div>
        <div><a href="">Доставки</a></div>
        <div><a href="">Акции</a></div>
        <div class="theme-switcher">
          <i class="fa fa-sun-o" aria-hidden="true"></i>
          <label class="switch btn-color-mode-switch">
            <input
              type="checkbox"
              name="color_mode"
              id="color_mode"
              value="1"
            />
            <label
              for="color_mode"
              data-on="Dark"
              data-off="Light"
              class="btn-color-mode-switch-inner"
            ></label>
          </label>
          <i class="fa fa-moon-o" aria-hidden="true"></i>
        </div>
      </div>
      <div>
        <p>
          <span class="big">+7 999 555-11-77</span> <br />
          <span class="small">с 9:00 до 21:00</span>
        </p>
      </div>
    </header>
    <main>
      <section class="hero-section">
        <div class="container">
          <div class="hero-content">
            <div class="hero-text hero-title hero-subtitle">
              <h1>
                Сервис правильного<br />
                питания
              </h1>
              <p class="green">Сделай свой выбор!</p>
              <div class="hero-buttons">
                <button class="button primary">Подобрать питание</button>
                <button class="button secondary">Получить консультацию</button>
              </div>
            </div>
            <div class="hero-image">
              <img
                src="img/Group 1000004099.svg"
                alt="Аппетитные тосты с авокадо"
              />
            </div>
          </div>
        </div>
      </section>

      <section class="benefits-section">
        <div class="container">
          <div class="benefits-content">
            <div class="benefits-image">
              <img src="img/Groupp.svg" alt="Руки в форме сердца" />
            </div>
            <div class="benefits-text p h2">
              <h2>Еда, которая сделает тебя лучше!</h2>
              <p>
                Мы помогаем создавать новое качество жизни для наших клиентов,
                чтоб каждый человек был счастливым, здоровым и не отвлекался на
                рутинные процессы.
              </p>
              <p>
                Для этого мы создали новый уникальный продукт на рынке доставки
                еды и приглашаем вас окунуться в гастрономический шик уже
                сегодня.
              </p>
            </div>
          </div>
          <div class="benefits-content">
            <div class="benefits-text">
              <h2>Изысканное меню высокой кухни</h2>
              <p>
                В наших блюдах мы продумали каждую деталь, все ингредиенты
                тщательно подобраны и создают неповторимый вкус.
              </p>
              <p>
                Качественные продукты, деликатесы и суперфуды, которые помогают
                поддерживать здоровье и обмен веществ. Мы используем крафтовые
                ингредиенты: с любовью выращиваем микрозелень, делаем соусы и
                масла, маринуем мясо, рыбу и морепродукты.
              </p>
            </div>
            <div class="benefits-imagetwo">
              <img src="img/Frame.svg" alt="Рука со звездами" />
            </div>
          </div>
        </div>
      </section>
      <section class="diet-selection">
        <div class="container">
          <h2 class="diet-title">Подберите рацион для своих целей</h2>
          <DIV class="diet-form">
            <div class="gender-selection">
                <label class="switch btn-color-mode-switch">
                    <input type="checkbox" name="gender" id="gender">
                    <label for="gender" data-on="M" data-off="Ж" class="btn-color-mode-switch-inner"></label>
                </label>  
            </div>
            <div class="form-group">
              <input type="number" placeholder="Ваш вес" class="form-input">
            </div>
            <div class="form-group">
              <input type="number" placeholder="Ваш рост" class="form-input">
            </div>
            <div class="form-group">
              <input type="number" placeholder="Ваш возраст" class="form-input">
            </div>
            <div class="form-group">
              <select class="form-select">
                <option value="" disabled selected>Активность</option>
                <option>Низкая</option>
                <option>Средняя</option>
                <option>Высокая</option>
              </select>
            </div>
            <div class="form-group">
              <select class="form-select">
                <option value="" disabled selected>Выберите цель</option>
                <option>Похудение</option>
                <option>Поддержание веса</option>
                <option>Набор массы</option>
              </select>
            </div>
            <button class="calculate-btn">Рассчитать рацион</button>
          </div>        
          <div id="calorieModal" class="modal" style="display:none;">
          <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Рассчитанная калорийность</h2>
            <p>Ваш идеальный рацион должен содержать <span id="calorieResult"></span> ккал</p>
            <button id="closeModalBtn">Ок</button>
          </div>
        </section>
      <section id="menu">
        <div class="container">
          <h2>Наше меню</h2>
          <p class="green">Калорийность</p>
          <div class="section">
            <div class="options-container" id="calorieOptions"></div>
          </div>
          <p class="green">Продолжительность</p>
          <div class="options-container" id="durationOptions"></div>
          <div class="section">
            <div class="days-container" id="dayOptions"></div>
            <div class="section-title">
              <h2>Меню на выбранный день</h2>
              <div class="total-calories" id="selectedCaloriesInfo"></div>
            </div>
            <div class="menu-container" id="menuContainer"></div>

            <div class="total-info">
              <div class="total-numbers">
                <div class="total-item" id="A">
                  <div class="total-value" id="totalKcal">0 ккал</div>
                </div>
                <div class="total-item" id="B">
                  <div><img src="img/Group.svg" /></div>
                  <div>
                    <div class="total-value" id="totalProtein">0</div>
                    <div class="total-value">Белки</div>
                  </div>
                </div>
                <div class="total-item" id="C">
                  <div><img src="img/Group (1).svg" /></div>
                  <div>
                    <div class="total-value" id="totalFat">0</div>
                    <div class="total-value">Жиры</div>
                  </div>
                </div>
                <div class="total-item" id="D">
                  <div><img src="img/Group 85.svg" /></div>
                  <div>
                    <div class="total-value" id="totalCarbs">0</div>
                    <div class="total-value">Углеводы</div>
                  </div>
                </div>
              </div>
              <button class="order-btn">
                <span class="big">Оформить заказ</span>
              </button>
            </div>
          </div>
        </div>
      </section>
      <section class="benefits-section">
        <div class="container">
            <div class="benefits-contentt">
                <div class="benefits-imagee">
                    <img
                    src="img/Group 62.svg"
                    alt="Руки и коробка"
                  />
                </div>
                <div class="benefits-textt">
                    
                    <h2>Будем доставлять наборы <span>каждый день</span></h2>
                    <p>
                        Доставка осуществляется каждый день с 06:00 до 12:00. <br>
                        Выбор интервала — 2 часа.
                    </p>
                    <p>
                        Заявки принимаются не позднее, чем за день до предполагаемой доставки.
                    </p>
                </div>
                
            </div>
        </div>
    </section>
      <section class="flex" id="map">
        <div id="delivery-map" class="delivery-map">
          <script
            type="text/javascript"
            charset="utf-8"
            async
            src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3A135bcc8be98a7454dee900eb5f08d531e2c37e235cf873a8874399c93936de60&amp;width=100%25&amp;height=300&amp;lang=ru_RU&amp;scroll=true"
          ></script>
        </div>
        <div class="delivery-map">
          <h2>Карта доставки</h2>
          <form class="adres">
            <label>Куда потребуется доставить?</label>
            <p>
              <select required>
                <option>Москва (в пределах садового кольца)</option>
                <option>Москва (в пределах ТТК)</option>
                <option>Москва (в пределах МКАД)</option>
                <option>МО (в пределах ЦКАД)</option>
              </select>
            </p>
            <div>
              <input type="text" placeholder="Введите адресс" minlength="10" /><button
                type="submit"
              >
                Рассчитать
              </button>
            </div>
          </form>
        </div>
      </section>
      <section id="actions">
        <h2>Пробный рацион</h2>
        <p class="grey">
          Сомневаетесь? Протестируйте наш сервис и еду.<br>
          Начните с пробного меню на два дня от 800 р. Подберите свою индивидуальную норму калорий и выберите тариф подходящий именно Вам.
        </p>
        <a href="#menu">Попробовать</a>
      </section>
      <section id="srok">
        <div class="flex">
          <div class="grey"><h2>Пробный рацион</h2>
<p class="grey">Мы рекомендуем хранить приготовленные блюда в холодильнике не дольше 24 часов. После вскрытия срок хранения сокращается до 4 часов.  Точные сроки годности указаны на упаковке каждого блюда при доставке.  </p>
          <p class="grey">Пожалуйста, обратите внимание на эти указания для обеспечения безопасности и свежести продукта.</p>
          </div class="benefits-imagee">
            <img src="img/time 1.svg">
          </div>
      </section>
    </main>
    <footer>
      <div class="flex" id="foot">
        <div class="flex">
          <button>
            <span class="big" id="f">+7 999 555-11-77</span> <br />
            <span class="small">с 9:00 до 21:00</span></button
          >
          <a class="btnimg"><img src="img/wk.svg" /></a>
          <a class="btnimg"><img src="img/Frame-1.svg" /></a
          ><a class="btnimg"><img src="img/Frame-2.svg" /></a
          >
        </div>
        <p class="big" id="f">
          ООО «ПораПоесть», г. Москва,<br />
          Крондштадский бульвар, дом 37Б
        </p>
      </div>
      <div>
        <p>
          <span class="small"
            >© 2025 ПораПоесть — сервис доставки здорового питания</span
          >
        </p>
        <p>
          <span class="small">
            Фотографии блюд на сайте являются вариантом сервировки блюда.
            Внешний вид блюда может отличаться от фотографии на сайте.
            <br />Указывая электронную почту и номер телефона на сайте, вы
            соглашаетесь с условиями <a>Публичной оферты</a> и
            <a>Политикой конфедициальности</a></span
          >
        </p>
      </div>
    </footer>
    <script>
      //карта
      const deliveryPrices = {
  'Москва (в пределах садового кольца)': { price: 100, time: 15 },
  'Москва (в пределах ТТК)': { price: 250, time: 30 },
  'Москва (в пределах МКАД)': { price: 400, time: 50 },
  'МО (в пределах ЦКАД)': { price: 800, time: 120 }
};

// Обработчик формы доставки
document.querySelector('.adres').addEventListener('submit', function(e) {
  e.preventDefault();
  
  // Проверяем, что выбран план питания и продолжительность
  if (selectedCalorieOption === null || selectedDuration === null) {
    alert('Пожалуйста, сначала выберите план питания и продолжительность');
    return;
  }
  
  const currentKcal = calorieOptions[selectedCalorieOption].kcal;
  const prices = priceOptions[currentKcal];
  const zoneSelect = document.querySelector('.adres select');
  const selectedZone = zoneSelect.options[zoneSelect.selectedIndex].text;
  
  // Получаем данные о доставке
  const delivery = deliveryPrices[selectedZone];
  
  // Рассчитываем стоимость
  let totalPrice;
  let durationText;
  
  if (selectedDuration === 'trial') {
    totalPrice = prices.trial + delivery.price;
    durationText = '2 дня';
  } else {
    const durationPrices = {
      'week': prices.week,
      'twoWeeks': prices.twoWeeks,
      'threeWeeks': prices.threeWeeks,
      'fourWeeks': prices.fourWeeks
    };
    totalPrice = durationPrices[selectedDuration] + delivery.price;
    
    // Текст продолжительности
    const durationTexts = {
      'week': '1 неделю',
      'twoWeeks': '2 недели',
      'threeWeeks': '3 недели',
      'fourWeeks': '4 недели'
    };
    durationText = durationTexts[selectedDuration];
  }
  
  // Формируем результат
  let resultHTML = `
    <div class="delivery-result">
      <p>Стоимость доставки с учётом выбранного плана питания на ${durationText} составит <strong>${totalPrice}₽/день</strong></p>
      <p>Доставка от ресторана займет примерно <strong>${delivery.time} минут</strong></p>
    </div>
  `;
  
  // Отображаем результат - можно добавить перед кнопкой "Рассчитать"
  const existingResult = document.querySelector('.delivery-result');
  if (existingResult) {
    existingResult.innerHTML = resultHTML;
  } else {
    const form = document.querySelector('.adres');
    const resultDiv = document.createElement('p');
    resultDiv.className = 'delivery-result';
    resultDiv.innerHTML = resultHTML;
    form.appendChild(resultDiv);
  }
});

// Добавляем стили для отображения результата
const style = document.createElement('style');
style.textContent = `
  .delivery-result {
    flex-direction: column;
  }
`;
document.head.appendChild(style);
// BMR
function calculateBMR(weight, height, age, gender) {
  if (gender === 'М') {
    return 10 * weight + 6.25 * height - 5 * age + 5;
  } else {
    return 10 * weight + 6.25 * height - 5 * age - 161;
  }
}

document.querySelector('.calculate-btn').addEventListener('click', function() {
  const weightInput = document.querySelectorAll('.form-input')[0];
  const heightInput = document.querySelectorAll('.form-input')[1];
  const ageInput = document.querySelectorAll('.form-input')[2];
  const activitySelect = document.querySelectorAll('.form-select')[0];
  const goalSelect = document.querySelectorAll('.form-select')[1];

  const weight = parseFloat(weightInput.value);
  const height = parseFloat(heightInput.value);
  const age = parseInt(ageInput.value);
  const activity = activitySelect.value;
  const goal = goalSelect.value; 

  if (isNaN(weight) || isNaN(height) || isNaN(age) || !activity || !goal) {
    alert('Пожалуйста, заполните все поля.');
    return;
  }

  let activityMultiplier = 1.2; // Низкая
  if (activity === 'Средняя') activityMultiplier = 1.55;
  if (activity === 'Высокая') activityMultiplier = 1.725;

  const BMR = calculateBMR(weight, height, age, document.querySelectorAll('.gender-selection input[type="checkbox"]')[0].checked ? 'М' : 'Ж');

  let calories = BMR * activityMultiplier;

  if (goal === 'Похудение') {
    calories -= 500; // дефицит
  } else if (goal === 'Набор массы') {
    calories += 500; // избыток
  } 

  calories = Math.round(calories);

  document.getElementById('calorieResult').textContent = calories;

  const modal = document.getElementById('calorieModal');
  modal.style.display = 'flex';
});

function closeModal() {
  document.getElementById('calorieModal').style.display = 'none';
}

document.querySelector('.close').addEventListener('click', closeModal);
document.getElementById('closeModalBtn').addEventListener('click', closeModal);

window.addEventListener('click', function(event) {
  const modal = document.getElementById('calorieModal');
  if (event.target === modal) {
    closeModal();
  }
});

      document.addEventListener('DOMContentLoaded', function() {
const maleBtn = document.getElementById('maleBtn');
const femaleBtn = document.getElementById('femaleBtn');

maleBtn.addEventListener('click', function() {
  maleBtn.classList.add('active');
  femaleBtn.classList.remove('active');
});

femaleBtn.addEventListener('click', function() {
  femaleBtn.classList.add('active');
  maleBtn.classList.remove('active');
});
});
    // Данные о калорийности
    const calorieOptions = [
      { kcal: 900, dishes: 3 },
      { kcal: 1250, dishes: 4 },
      { kcal: 1600, dishes: 5 },
      { kcal: 2050, dishes: 6 },
    ];

    // Цены в зависимости от калорийности
    const priceOptions = {
      900: {
        trial: 800,
        week: 1500,
        twoWeeks: 1400,
        threeWeeks: 1320,
        fourWeeks: 1250,
      },
      1250: {
        trial: 1000,
        week: 1700,
        twoWeeks: 1600,
        threeWeeks: 1520,
        fourWeeks: 1450,
      },
      1600: {
        trial: 1200,
        week: 1900,
        twoWeeks: 1800,
        threeWeeks: 1720,
        fourWeeks: 1650,
      },
      2050: {
        trial: 1400,
        week: 2100,
        twoWeeks: 2000,
        threeWeeks: 1920,
        fourWeeks: 1850,
      },
    };

    // Дни недели
    const days = [
      "понедельник",
      "вторник",
      "среда",
      "четверг",
      "пятница",
      "суббота",
      "воскресенье",
    ];

    // Данные меню для разных калорийностей
    const menuData = {
      900: {
        понедельник: [
          {
            name: "Лёгкий завтрак с йогуртом",
            image:
              "https://images.unsplash.com/photo-1505576399279-565b52d4ac71?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 250,
            protein: 12,
            fat: 8,
            carbs: 30,
            weight: 250,
          },
          {
            name: "Салат с курицей и овощами",
            image:
              "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 300,
            protein: 25,
            fat: 10,
            carbs: 20,
            weight: 300,
          },
          {
            name: "Овощной суп",
            image:
              "https://images.unsplash.com/photo-1476718406336-bb5a9690ee2a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 200,
            protein: 8,
            fat: 5,
            carbs: 30,
            weight: 300,
          },
          {
            name: "Фруктовый перекус",
            image:
              "https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 150,
            protein: 2,
            fat: 1,
            carbs: 35,
            weight: 200,
          },
        ],
        вторник: [
          {
            name: "Овсяная каша с ягодами",
            image:
              "https://images.unsplash.com/photo-1505576399279-565b52d4ac71?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 280,
            protein: 10,
            fat: 5,
            carbs: 45,
            weight: 250,
          },
          {
            name: "Рыба на пару с брокколи",
            image:
              "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 320,
            protein: 30,
            fat: 8,
            carbs: 15,
            weight: 300,
          },
          {
            name: "Творог с зеленью",
            image:
              "https://images.unsplash.com/photo-1490645935967-10de6ba17061?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 180,
            protein: 20,
            fat: 8,
            carbs: 5,
            weight: 200,
          },
          {
            name: "Овощной смузи",
            image:
              "https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 120,
            protein: 4,
            fat: 2,
            carbs: 20,
            weight: 250,
          },
        ],
      },
      1250: {
        понедельник: [
          {
            name: "Утренний боул с лососем и перепелинным яйцом",
            image:
              "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 320,
            protein: 20,
            fat: 10,
            carbs: 30,
            weight: 300,
          },
          {
            name: "Боул с куриными фрикадельками в кунжуте",
            image:
              "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 320,
            protein: 20,
            fat: 10,
            carbs: 30,
            weight: 300,
          },
          {
            name: "Кукурузные блинчики с фруктовым тар-таром",
            image:
              "https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 320,
            protein: 20,
            fat: 10,
            carbs: 10,
            weight: 300,
          },
          {
            name: "Морепродукты в соусе Гарсия со стручковой фасолью",
            image:
              "https://images.unsplash.com/photo-1473093295043-cdd812d0e601?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 320,
            protein: 20,
            fat: 15,
            carbs: 60,
            weight: 300,
          },
        ],
        вторник: [
          {
            name: "Гречневая каша с авокадо и яйцом пашот",
            image:
              "https://images.unsplash.com/photo-1490645935967-10de6ba17061?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 350,
            protein: 18,
            fat: 12,
            carbs: 40,
            weight: 320,
          },
          {
            name: "Куриная грудка с киноа и овощами",
            image:
              "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 380,
            protein: 35,
            fat: 8,
            carbs: 30,
            weight: 350,
          },
          {
            name: "Салат с тунцом и яйцом",
            image:
              "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 290,
            protein: 25,
            fat: 12,
            carbs: 15,
            weight: 280,
          },
          {
            name: "Тыквенный суп-пюре с гренками",
            image:
              "https://images.unsplash.com/photo-1476718406336-bb5a9690ee2a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 230,
            protein: 8,
            fat: 10,
            carbs: 25,
            weight: 300,
          },
        ],
      },
      1600: {
        понедельник: [
          {
            name: "Омлет с овощами и сыром",
            image:
              "https://images.unsplash.com/photo-1490645935967-10de6ba17061?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 400,
            protein: 25,
            fat: 22,
            carbs: 20,
            weight: 300,
          },
          {
            name: "Стейк из лосося с картофелем",
            image:
              "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 450,
            protein: 35,
            fat: 20,
            carbs: 35,
            weight: 350,
          },
          {
            name: "Паста с морепродуктами",
            image:
              "https://images.unsplash.com/photo-1473093295043-cdd812d0e601?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 420,
            protein: 25,
            fat: 15,
            carbs: 45,
            weight: 350,
          },
          {
            name: "Творожная запеканка с ягодами",
            image:
              "https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 330,
            protein: 20,
            fat: 12,
            carbs: 35,
            weight: 250,
          },
        ],
        вторник: [
          {
            name: "Сырники со сметаной",
            image:
              "https://images.unsplash.com/photo-1490645935967-10de6ba17061?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 380,
            protein: 22,
            fat: 15,
            carbs: 40,
            weight: 250,
          },
          {
            name: "Говядина с гречкой и салатом",
            image:
              "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 480,
            protein: 40,
            fat: 18,
            carbs: 35,
            weight: 350,
          },
          {
            name: "Крем-суп из брокколи",
            image:
              "https://images.unsplash.com/photo-1476718406336-bb5a9690ee2a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 320,
            protein: 15,
            fat: 20,
            carbs: 25,
            weight: 300,
          },
          {
            name: "Фруктовый салат с йогуртом",
            image:
              "https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 250,
            protein: 8,
            fat: 5,
            carbs: 45,
            weight: 250,
          },
        ],
      },
      2050: {
        понедельник: [
          {
            name: "Яичница с беконом и тостами",
            image:
              "https://images.unsplash.com/photo-1490645935967-10de6ba17061?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 500,
            protein: 30,
            fat: 30,
            carbs: 35,
            weight: 300,
          },
          {
            name: "Стейк рибай с картофелем фри",
            image:
              "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 650,
            protein: 45,
            fat: 35,
            carbs: 45,
            weight: 400,
          },
          {
            name: "Паста карбонара",
            image:
              "https://images.unsplash.com/photo-1473093295043-cdd812d0e601?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 550,
            protein: 25,
            fat: 30,
            carbs: 50,
            weight: 350,
          },
          {
            name: "Чизкейк с ягодами",
            image:
              "https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 350,
            protein: 10,
            fat: 20,
            carbs: 35,
            weight: 200,
          },
        ],
        вторник: [
          {
            name: "Блины с мёдом и орехами",
            image:
              "https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 450,
            protein: 15,
            fat: 25,
            carbs: 45,
            weight: 250,
          },
          {
            name: "Утка с яблоками и картофелем",
            image:
              "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 700,
            protein: 50,
            fat: 40,
            carbs: 40,
            weight: 400,
          },
          {
            name: "Лазанья болоньезе",
            image:
              "https://images.unsplash.com/photo-1473093295043-cdd812d0e601?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 550,
            protein: 35,
            fat: 25,
            carbs: 50,
            weight: 350,
          },
          {
            name: "Тирамису",
            image:
              "https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
            kcal: 350,
            protein: 10,
            fat: 20,
            carbs: 35,
            weight: 200,
          },
        ],
      },
    };

    // Для простоты заполним остальные дни аналогичными блюдами
    for (let kcal in menuData) {
      for (let day of days.slice(2)) {
        menuData[kcal][day] = [...menuData[kcal]["понедельник"]];
      }
    }

    // Текущие выбранные значения
    let selectedCalorieOption = 1; // Индекс выбранной калорийности (по умолчанию 1250 ккал)
    let selectedDay = days[0]; // По умолчанию понедельник
    let selectedDuration = null; // Выбранная продолжительность

    // Инициализация страницы
    document.addEventListener("DOMContentLoaded", function () {
      renderCalorieOptions();
      renderDurationOptions();
      renderDayOptions();
      renderMenu();
      updateTotals();
    });

    // Рендер опций калорийности
    function renderCalorieOptions() {
      const container = document.getElementById("calorieOptions");
      container.innerHTML = "";

      calorieOptions.forEach((option, index) => {
        const optionElement = document.createElement("div");
        optionElement.className = `option ${
          index === selectedCalorieOption ? "selected" : ""
        }`;
        optionElement.innerHTML = `
                  <div class="kcal">${option.kcal} ккал</div>
              `;

        optionElement.addEventListener("click", () => {
          selectedCalorieOption = index;
          renderCalorieOptions();
          renderDurationOptions();
          renderMenu();
          updateTotals();
        });

        container.appendChild(optionElement);
      });
    }

    // Рендер опций продолжительности
    function renderDurationOptions() {
      const currentKcal = calorieOptions[selectedCalorieOption].kcal;
      const prices = priceOptions[currentKcal];

      const container = document.getElementById("durationOptions");
      container.innerHTML = "";

      // Пробный вариант
      const trialOption = document.createElement("div");
      trialOption.className = `option ${
        selectedDuration === "trial" ? "selected" : ""
      }`;
      trialOption.innerHTML = `
      <div class="kcal">Пробные 2 дня</div>
      <div class="dishes">
          <span class="new-price">${prices.trial} ₽</span>
          <span class="old-price">${prices.trial + 200} ₽</span>
      </div>
  `;

      trialOption.addEventListener("click", () => {
        selectedDuration = "trial";
        renderDurationOptions();
      });

      container.appendChild(trialOption);

      // Варианты подписки
      const durations = [
        { name: "1 неделя", key: "week" },
        { name: "2 недели", key: "twoWeeks" },
        { name: "3 недели", key: "threeWeeks" },
        { name: "4 недели", key: "fourWeeks" },
      ];

      durations.forEach((duration) => {
        const option = document.createElement("div");
        option.className = `option ${
          selectedDuration === duration.key ? "selected" : ""
        }`;
        option.innerHTML = `
          <div class="kcal">${duration.name}</div>
          <div class="dishes">
              <span class="new-price">${prices[duration.key]} ₽/день</span>
          </div>
      `;

        option.addEventListener("click", () => {
          selectedDuration = duration.key;
          renderDurationOptions();
        });

        container.appendChild(option);
      });
    }

    // Рендер дней недели
    function renderDayOptions() {
      const container = document.getElementById("dayOptions");
      container.innerHTML = "";

      days.forEach((day) => {
        const dayElement = document.createElement("div");
        dayElement.className = `day ${day === selectedDay ? "selected" : ""}`;
        dayElement.textContent = day;

        dayElement.addEventListener("click", () => {
          selectedDay = day;
          renderDayOptions();
          renderMenu();
          updateTotals();
        });

        container.appendChild(dayElement);
      });
    }

    // Рендер меню для выбранного дня и калорийности
    function renderMenu() {
      const container = document.getElementById("menuContainer");
      container.innerHTML = "";

      const currentKcal = calorieOptions[selectedCalorieOption].kcal;
      const dishes = menuData[currentKcal][selectedDay];

      document.getElementById(
        "selectedCaloriesInfo"
      ).textContent = `Выбрано: ${currentKcal} ккал`;

      dishes.forEach((dish) => {
        const dishElement = document.createElement("div");
        dishElement.className = "dish-card";
        dishElement.innerHTML = `
                  <img src="${dish.image}" alt="${dish.name}" class="dish-image">
                  <div class="dish-info">
                      <div class="dish-title">${dish.name}</div>
                      <div class="dish-details">
                          <div class="dish-detail">К: ${dish.kcal} ккал</div>
                          <div class="dish-detail">Б: ${dish.protein} г</div>
                          <div class="dish-detail">Ж: ${dish.fat} г</div>
                          <div class="dish-detail">У: ${dish.carbs} г</div>
                          <div class="dish-detail">Вес: ${dish.weight}г</div>
                      </div>
                  </div>
              `;

        container.appendChild(dishElement);
      });
    }

    // Обновление итоговых значений БЖУ
    function updateTotals() {
      const currentKcal = calorieOptions[selectedCalorieOption].kcal;
      const dishes = menuData[currentKcal][selectedDay];

      const totalKcal = dishes.reduce((sum, dish) => sum + dish.kcal, 0);
      const totalProtein = dishes.reduce(
        (sum, dish) => sum + dish.protein,
        0
      );
      const totalFat = dishes.reduce((sum, dish) => sum + dish.fat, 0);
      const totalCarbs = dishes.reduce((sum, dish) => sum + dish.carbs, 0);

      document.getElementById("totalKcal").textContent = `${totalKcal} ккал`;
      document.getElementById(
        "totalProtein"
      ).textContent = `${totalProtein} г`;
      document.getElementById("totalFat").textContent = `${totalFat} г`;
      document.getElementById("totalCarbs").textContent = `${totalCarbs} г`;
    }

    
    document.addEventListener('DOMContentLoaded', function() {
const themeSwitcher = document.getElementById('color_mode');

themeSwitcher.addEventListener('change', function() {
  if(this.checked) {
    document.body.classList.add('dark-preview');
    document.body.classList.remove('white-preview');
  } else {
    document.body.classList.add('white-preview');
    document.body.classList.remove('dark-preview');
  }
});
});
  </script>
</body>
</html>
